---
layout:     post
title:      简单的财务报表AIAgent搭建与思考:ReAct RAG Agent
subtitle:   Architecture
date:       2026-02-21
author:     LuochuanAD
header-img: img/home_blog_background.jpg
catalog: true
tags:
- Function Tools 
- AI Agent
- ReAct

---

## 背景
> 没有复杂的RAG设计, 仅仅通过LlamaIndex的ReAct RAG Agent框架来实现财务报表的分析,就可以达到和初级商业分析师一样的水平. 但也是有许多的不足.个人觉得仅仅适合微小型企业来使用.


## 财报分析结构图

![](https://raw.githubusercontent.com/LuochuanAD/BlogSourceImage/refs/heads/master/BlogSourceImage/BlogSourceImage2026/%E8%B4%A2%E6%8A%A5%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B%E5%9B%BE.png)

## 1, 加载A, B, ......公司的财务报表文件

```
from llama_index.core import SimpleDirectoryReader

A_doc = SimpleDirectoryReader(
	imput_file = ["./A公司财务报表文件_2025.pdf"]
).load_data()

......

```
## 2, 基于财报数据构建向量数据并保存到本地

```
from llama_index.core import VectorStoreIndex

A_index = VectorStoreIndex.frome_documents(A_doc)

......

frome llama_index.core import StorageContext

A_index.storage_context.persist(persist_dir="./storage/A")

......

```
**本地向量数据的文件目录:**

```
A
|- default_vectory_store.json
|- docstore.json
|- graph_store.json
|- image_vectore_store.json
|- index_store.json
B
|- default_vectory_store.json
|- docstore.json
|- graph_store.json
|- image_vectore_store.json
|- index_store.json

......


```


## 3, 配置查询工具:(A/B/......)

```
from llama_index.core.tools import QueryEngineerTool, ToolMetadata

query_engineer_tools= [
	QueryEngineerTool(
		query_engineer = A_engineer,
		metadata = ToolMetadata(
			name = "A_finance",
			description= ("用于提供A公司财务报表信息"),
		),
	),

	......

]
```

## 4, 创建LLM: ReAct RAG Agent

```
from llama_index.core.agent import ReActAgent

agent = ReActAgent.from_tools(query_tools, llm=llm, verbose=True)

```


## 思考: (ReAct RAG Agent)

```
优点:
1, 只需要提供公司的财务报表文件就OK
2, 简单快捷,利用现成的LlamaIndex来快速搭建 ReAct RAG Agent.
3, 分析出来的结果达到了初级商业分析师的水平

缺点:
1, 没有详细设计RAG的过程,只能看LlamaIndex本身的能力水平
2, 没有设计ReAct的过程,同样只能看LlamaIndex本身的能力水平
3, 没有微调大模型,注定了分析结果只能是初级商业分析师的水平
4, 没有人为的思考点加入,无法实现脑力最大化:AI+人

```
**如果将以上4个缺点都实现了,将达到顶尖商业分析师的水平. 基于这一点,我对于未来AI的发展和应用充满了信心.
因为一个这样的系统开发最多半年,可以达到顶尖商业分析师20年的经验能力.这才是人类最大的杠杆.**

## 参考

文章例子来源于: 《动手做AI Agent》黄佳|著

